{% set indexLength = 10 %}
{% set startIndex = ((page // (indexLength + 1)) * indexLength) + 1 %}
{% set endIndex = startIndex + totalPages if totalPages < 10 else startIndex + indexLength %}

<div class="pagination">
  {% if page != 1 %}
    <a id="prev" href="/{{pageName}}?page={{page-1}}&name={{name}}&gender={{gender}}"><< Prev</a> 
  {% endif %}

  {%  for num in range(startIndex, endIndex) %}
    <a id="{{num}}" href="/{{pageName}}?page={{num}}&name={{name}}&gender={{gender}}" {% if num == page %} class="active" {% endif %}>{{ num }} </a> 
  {% endfor %}

  {% if totalPages != 1 and page != totalPages %}
    <a id="next" href="/{{pageName}}?page={{page+1}}&name={{name}}&gender={{gender}}">Next >></a> 
  {% endif %}
</div>